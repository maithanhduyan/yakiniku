{
    "[html]": {
        "files.encoding": "utf8"
    },
    "[json]": {
        "files.encoding": "utf8"
    },
    "[javascript]": {
        "files.encoding": "utf8",
    },
    "[css]": {
        "files.encoding": "utf8"
    },
    "[markdown]": {
        "files.encoding": "utf8"
    },
    "[python]": {
        "files.encoding": "utf8",
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.organizeImports": "explicit"
        }
    },
    "workbench.iconTheme": "material-icon-theme",
    "editor.formatOnSave": false,
    "editor.tabSize": 4,
    "editor.bracketPairColorization.enabled": true,
    "editor.guides.bracketPairs": "active",
    "editor.rulers": [80, 120],
    "files.encoding": "utf8",
    "files.autoGuessEncoding": false,
    "files.eol": "\n",
    "files.trimFinalNewlines": true,
    "files.trimTrailingWhitespace": true,
    "files.insertFinalNewline": true,

    // ============ Encoding Protection ============
    // Never save with BOM — VS Code defaults to UTF-8 without BOM
    // If you see garbled text, do NOT re-save — run: python scripts/check_encoding.py . --fix

    // ============ Copilot Configuration ============
    "chat.agent.maxRequests": 5000,

    // Prettier Configuration
    "prettier.tabWidth": 4,
    "prettier.singleQuote": true,
    "prettier.printWidth": 120,

    // ============ Live Server Configuration ============
    "liveServer.settings.host": "0.0.0.0",
    "liveServer.settings.port": 5500,
    "liveServer.settings.root": "/apps",
    "liveServer.settings.ignoreFiles": [
        ".vscode/**",
        "**/*.md",
        "**/*.txt",
        "**/*.xml",
        "**/*.png",
        "**/*.jpg",
        "**/*.jpeg",
        "**/*.gif",
        "**/*.svg",
        "**/*.pdf"
    ],
    "liveServer.settings.fullReload": false,

    // ============ Python + UV Configuration ============
    // Cross-platform: works on both Windows and Linux
    // "python.defaultInterpreterPath": "${workspaceFolder}/backend/.venv/Scripts/python.exe",
    "python.terminal.activateEnvironment": true,

    // Linux override (uncomment if on Linux)
    // "python.defaultInterpreterPath": "${workspaceFolder}/backend/.venv/bin/python",

    // Terminal environment for uv
    "terminal.integrated.env.windows": {
        "VIRTUAL_ENV": "${workspaceFolder}/backend/.venv",
        "PATH": "${workspaceFolder}/backend/.venv/Scripts;${env:PATH}",
        "PYTHONUTF8": "1",
        "PYTHONIOENCODING": "utf-8"
    },
    "terminal.integrated.env.linux": {
        "VIRTUAL_ENV": "${workspaceFolder}/backend/.venv",
        "PATH": "${workspaceFolder}/backend/.venv/bin:${env:PATH}",
        "PYTHONUTF8": "1",
        "PYTHONIOENCODING": "utf-8"
    },
    "terminal.integrated.env.osx": {
        "VIRTUAL_ENV": "${workspaceFolder}/backend/.venv",
        "PATH": "${workspaceFolder}/backend/.venv/bin:${env:PATH}",
        "PYTHONUTF8": "1",
        "PYTHONIOENCODING": "utf-8"
    },
    "chat.tools.terminal.autoApprove": {
        "ForEach-Object": true
    },
    "chat.customAgentInSubagent.enabled": true
}
