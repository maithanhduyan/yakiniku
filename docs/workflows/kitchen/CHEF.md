# Kitchen Display System â€” Quy trÃ¬nh tráº£i nghiá»‡m á»©ng dá»¥ng báº¿p

**DÃ nh cho nhÃ¢n viÃªn cháº¿ biáº¿n (Chef / Cook) thao tÃ¡c trÃªn mÃ n hÃ¬nh Kitchen Display (KDS)**

---

## Tá»•ng quan á»©ng dá»¥ng

Kitchen Display System (KDS) lÃ  á»©ng dá»¥ng hiá»ƒn thá»‹ trÃªn mÃ n hÃ¬nh lá»›n trong báº¿p. NhÃ¢n viÃªn cháº¿ biáº¿n nhÃ¬n vÃ o mÃ n hÃ¬nh Ä‘á»ƒ biáº¿t mÃ³n nÃ o cáº§n chuáº©n bá»‹, thá»© tá»± Æ°u tiÃªn, vÃ  Ä‘Ã¡nh dáº¥u hoÃ n thÃ nh khi mÃ³n Ä‘Ã£ sáºµn sÃ ng phá»¥c vá»¥.

- **URL**: `http://localhost:5500/kitchen/` (dev) hoáº·c `http://localhost:8082/` (http.server)
- **Thiáº¿t bá»‹**: MÃ n hÃ¬nh cáº£m á»©ng trong báº¿p hoáº·c tablet
- **NgÃ´n ngá»¯ UI**: Tiáº¿ng Nháº­t (máº·c Ä‘á»‹nh), cÃ³ thá»ƒ chuyá»ƒn sang Tiáº¿ng Anh

---

## Bá»‘ cá»¥c mÃ n hÃ¬nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ³ ã‚­ãƒƒãƒãƒ³   [â—æ¥ç¶šä¸­]     åˆè¨ˆ:5  3åˆ†è¶…:2  5åˆ†è¶…:1  00:00 â”‚  â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ã™ã¹ã¦(5) â”‚ ğŸ¥©è‚‰(2) â”‚ ğŸšä»–(2) â”‚ ğŸºé£²ç‰©(1)             â”‚  â† Station Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚  ğŸ¥© è‚‰ (2)                    â”‚
â”‚   ğŸ“‹ ã™ã¹ã¦ (5)          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚ ç‰¹é¸ã‚«ãƒ«ãƒ“ Ã—2 T3 â”‚          â”‚
â”‚   â”‚ ç‰¹é¸ã‚«ãƒ«ãƒ“ Ã—2 T3 â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚   â”‚ ä¸Šãƒãƒ©ãƒŸ   Ã—1 T3 â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”‚ ãƒ©ã‚¤ã‚¹    Ã—2 T3 â”‚    â”‚  ğŸš ä»– (2)                    â”‚
â”‚   â”‚ ç‰›ã‚¿ãƒ³å¡©   Ã—2 T7 â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ ç”Ÿãƒ“ãƒ¼ãƒ«   Ã—3 T7 â”‚    â”‚  â”‚ ãƒ©ã‚¤ã‚¹     Ã—2 T3 â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Main Panel           â”‚  ğŸº é£²ç‰© (1)                  â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                          â”‚  â”‚ ç”Ÿãƒ“ãƒ¼ãƒ«   Ã—3 T7 â”‚          â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                          â”‚     Mini Panels               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â± è­¦å‘Š:3åˆ† / ç·Šæ€¥:5åˆ†          [EN][ğŸ“œ][ğŸ””][â›¶]          â”‚  â† Footer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ThÃ nh pháº§n UI chÃ­nh

| ThÃ nh pháº§n | MÃ´ táº£ |
|-----------|-------|
| **Header** | Logo, tráº¡ng thÃ¡i káº¿t ná»‘i (â—æ¥ç¶šä¸­/â—ã‚ªãƒ•ãƒ©ã‚¤ãƒ³), thá»‘ng kÃª (åˆè¨ˆ/3åˆ†è¶…/5åˆ†è¶…), Ä‘á»“ng há»“ |
| **Station Tabs** | 4 tab lá»c: ã™ã¹ã¦ (táº¥t cáº£), ğŸ¥©è‚‰ (thá»‹t), ğŸšä»– (khÃ¡c), ğŸºé£²ç‰© (Ä‘á»“ uá»‘ng) |
| **Main Panel** | Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ danh sÃ¡ch mÃ³n cá»§a station Ä‘ang chá»n |
| **Mini Panels** | 3 panel thu nhá» hiá»ƒn thá»‹ tÃ³m táº¯t cÃ¡c station cÃ²n láº¡i, nháº¥n Ä‘á»ƒ chuyá»ƒn |
| **Footer** | NgÆ°á»¡ng thá»i gian, nÃºt chuyá»ƒn ngÃ´n ngá»¯ (EN), lá»‹ch sá»­ (ğŸ“œ), Ã¢m thanh (ğŸ””), toÃ n mÃ n hÃ¬nh (â›¶) |

---

## Má»—i dÃ²ng mÃ³n Äƒn (Item Row)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‰¹é¸ã‚«ãƒ«ãƒ“          Ã—2       T3       4åˆ†      âœ•    âœ“   â”‚
â”‚  â€»ã‚ˆãç„¼ã                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ TÃªn mÃ³n + ghi chÃº   â†‘Qty   â†‘BÃ n   â†‘Timer  â†‘Há»§y â†‘Xong
```

### Há»‡ thá»‘ng cáº£nh bÃ¡o thá»i gian

| Thá»i gian chá» | Tráº¡ng thÃ¡i | MÃ u hiá»ƒn thá»‹ |
|---------------|-----------|-------------|
| < 3 phÃºt | BÃ¬nh thÆ°á»ng | KhÃ´ng Ä‘á»•i (xanh dÆ°Æ¡ng nháº¡t) |
| 3â€“5 phÃºt | âš ï¸ Cáº£nh bÃ¡o (`status-warning`) | VÃ ng |
| > 5 phÃºt | ğŸš¨ Kháº©n cáº¥p (`status-urgent`) | Äá» |

---

## Quy trÃ¬nh thao tÃ¡c chi tiáº¿t

### Phase 0: Khá»Ÿi Ä‘á»™ng â€” Loading & Káº¿t ná»‘i

```
Má»Ÿ á»©ng dá»¥ng â†’ Loading Overlay hiá»ƒn thá»‹:
  ğŸ³
  æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...
  â³ APIæ¥ç¶š
  â³ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 

â†’ Káº¿t ná»‘i API thÃ nh cÃ´ng: âœ“ APIæ¥ç¶š
â†’ Káº¿t ná»‘i WebSocket thÃ nh cÃ´ng: âœ“ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
â†’ Loading biáº¿n máº¥t sau 800ms
â†’ Náº¿u API tháº¥t báº¡i â†’ chuyá»ƒn sang Demo Mode (hiá»‡n banner vÃ ng "âš ï¸ ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰")
```

### Phase 1: GiÃ¡m sÃ¡t Ä‘Æ¡n hÃ ng â€” Monitoring

Sau khi load xong, nhÃ¢n viÃªn báº¿p nhÃ¬n vÃ o mÃ n hÃ¬nh:

1. **Kiá»ƒm tra tá»•ng quan**: NhÃ¬n header stats (åˆè¨ˆ, 3åˆ†è¶…, 5åˆ†è¶…) Ä‘á»ƒ biáº¿t cÃ³ bao nhiÃªu mÃ³n Ä‘ang chá»
2. **Kiá»ƒm tra Æ°u tiÃªn**: MÃ³n nÃ o hiá»ƒn thá»‹ **mÃ u Ä‘á»** (>5 phÃºt) â†’ cáº§n Æ°u tiÃªn lÃ m ngay
3. **Lá»c theo station**: Nháº¥n tab station Ä‘á»ƒ xem chá»‰ nhÃ³m mÃ³n thuá»™c chuyÃªn mÃ´n cá»§a mÃ¬nh
   - ğŸ¥© **è‚‰ (Thá»‹t)**: ã‚«ãƒ«ãƒ“, ãƒãƒ©ãƒŸ, ã‚¿ãƒ³, ãƒ­ãƒ¼ã‚¹, ãƒ›ãƒ«ãƒ¢ãƒ³, ç‰›, è±š, é¶...
   - ğŸš **ä»– (KhÃ¡c)**: ãƒ©ã‚¤ã‚¹, ãƒŠãƒ ãƒ«, ã‚­ãƒ ãƒ, ã‚µãƒ©ãƒ€, ãƒ“ãƒ“ãƒ³ãƒ, éºº...
   - ğŸº **é£²ç‰© (Äá»“ uá»‘ng)**: ãƒ“ãƒ¼ãƒ«, ãƒã‚¤ãƒœãƒ¼ãƒ«, ã‚µãƒ¯ãƒ¼, ã‚¸ãƒ¥ãƒ¼ã‚¹...

### Phase 2: Nháº­n Ä‘Æ¡n hÃ ng má»›i â€” New Order Notification

Khi khÃ¡ch hÃ ng Ä‘áº·t mÃ³n tá»« table-order app:

```
WebSocket event "new_order" â†’
  ğŸ”” Ã‚m thanh thÃ´ng bÃ¡o (two-tone bell chime)
  ğŸ“‹ Toast notification: "ãƒ†ãƒ¼ãƒ–ãƒ« T3 ã‹ã‚‰æ–°ã—ã„æ³¨æ–‡"
  â†’ Danh sÃ¡ch mÃ³n tá»± Ä‘á»™ng cáº­p nháº­t
  â†’ Thá»‘ng kÃª header tá»± Ä‘á»™ng tÄƒng
```

### Phase 3: Cháº¿ biáº¿n & hoÃ n thÃ nh mÃ³n â€” Mark as Served

Khi mÃ³n Äƒn Ä‘Ã£ cháº¿ biáº¿n xong:

1. **TÃ¬m mÃ³n**: NhÃ¬n dÃ²ng mÃ³n cáº§n Ä‘Ã¡nh dáº¥u (tÃ¬m theo tÃªn mÃ³n + sá»‘ bÃ n)
2. **Nháº¥n nÃºt âœ“ (Done)**: Nháº¥n vÃ o nÃºt âœ“ á»Ÿ bÃªn pháº£i dÃ²ng mÃ³n
3. **XÃ¡c nháº­n modal**: Modal xÃ¡c nháº­n hiá»‡n ra vá»›i thÃ´ng tin:
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  âœ… æä¾›ç¢ºèª           â”‚
   â”‚                       â”‚
   â”‚  ç‰¹é¸ã‚«ãƒ«ãƒ“            â”‚
   â”‚  æ•°é‡: Ã—2             â”‚
   â”‚  ãƒ†ãƒ¼ãƒ–ãƒ«: T3          â”‚
   â”‚  å¾…ã¡: 4åˆ†             â”‚
   â”‚                       â”‚
   â”‚  ã“ã®æ–™ç†ã‚’æä¾›æ¸ˆã¿ã«   â”‚
   â”‚  ã—ã¾ã™ã‹ï¼Ÿ            â”‚
   â”‚                       â”‚
   â”‚  [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [æä¾›æ¸ˆã¿] â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```
4. **Nháº¥n "æä¾›æ¸ˆã¿" (ÄÃ£ phá»¥c vá»¥)**: XÃ¡c nháº­n hoÃ n thÃ nh
5. **Káº¿t quáº£**:
   - DÃ²ng mÃ³n cÃ³ animation biáº¿n máº¥t (slide out 300ms)
   - âœ… Ã‚m thanh xÃ¡c nháº­n (gentle positive tone)
   - API call: `PATCH /api/kitchen/items/{id}/done`
   - Event log: `kitchen.item.served` ghi vÃ o há»‡ thá»‘ng event sourcing
   - WebSocket broadcast: CÃ¡c tablet KDS khÃ¡c tá»± Ä‘á»™ng xÃ³a mÃ³n nÃ y

### Phase 4: Há»§y mÃ³n â€” Cancel Item

Khi cáº§n há»§y mÃ³n (háº¿t nguyÃªn liá»‡u, khÃ¡ch Ä‘á»•i Ã½...):

1. **Nháº¥n nÃºt âœ• (Cancel)**: Nháº¥n vÃ o nÃºt âœ• á»Ÿ bÃªn trÃ¡i nÃºt âœ“
2. **XÃ¡c nháº­n modal**: Modal há»§y hiá»‡n ra:
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  âŒ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç¢ºèª      â”‚
   â”‚                       â”‚
   â”‚  ç‰¹é¸ã‚«ãƒ«ãƒ“            â”‚
   â”‚  æ•°é‡: Ã—2             â”‚
   â”‚  ãƒ†ãƒ¼ãƒ–ãƒ«: T3          â”‚
   â”‚                       â”‚
   â”‚  ç†ç”±ï¼ˆä»»æ„ï¼‰:          â”‚
   â”‚  [å“åˆ‡ã‚Œã€ãŠå®¢æ§˜éƒ½åˆ  ] â”‚
   â”‚                       â”‚
   â”‚  ã“ã®æ–™ç†ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«   â”‚
   â”‚  ã—ã¾ã™ã‹ï¼Ÿ            â”‚
   â”‚                       â”‚
   â”‚  [æˆ»ã‚‹] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹] â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```
3. **Nháº­p lÃ½ do (tÃ¹y chá»n)**: GÃµ lÃ½ do há»§y vÃ o Ã´ input
4. **Nháº¥n "ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹"**: XÃ¡c nháº­n há»§y
5. **Káº¿t quáº£**:
   - DÃ²ng mÃ³n cÃ³ animation biáº¿n máº¥t
   - âŒ Ã‚m thanh há»§y (subtle low tone)
   - Toast notification hiá»ƒn thá»‹
   - Event log: `kitchen.item.cancelled` vá»›i lÃ½ do

### Phase 5: Äá»“ng bá»™ thiáº¿t bá»‹ chÃ©o â€” Cross-Device Sync

Khi cÃ³ nhiá»u tablet KDS trong báº¿p:

- Khi tablet A Ä‘Ã¡nh dáº¥u mÃ³n hoÃ n thÃ nh â†’ tablet B, C tá»± Ä‘á»™ng xÃ³a mÃ³n Ä‘Ã³
- WebSocket events: `kitchen.item.served`, `kitchen.item.cancelled`
- Notification trÃªn tablet khÃ¡c: "âœ… ç‰¹é¸ã‚«ãƒ«ãƒ“ â€” ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã§æä¾›æ¸ˆã¿"

### Phase 6: Xem lá»‹ch sá»­ â€” History Panel

1. **Nháº¥n nÃºt ğŸ“œ (History)** á»Ÿ footer
2. **History panel má»Ÿ ra** overlay toÃ n mÃ n hÃ¬nh:
   - **Thá»‘ng kÃª tÃ³m táº¯t**: Sá»‘ mÃ³n Ä‘Ã£ phá»¥c vá»¥, sá»‘ mÃ³n Ä‘Ã£ há»§y, thá»i gian chá» trung bÃ¬nh
   - **Bá»™ lá»c**: Lá»c theo station (ã™ã¹ã¦/è‚‰/ä»–/é£²ç‰©) vÃ  loáº¡i event (å…¨ã‚¤ãƒ™ãƒ³ãƒˆ/æä¾›æ¸ˆã¿/ã‚­ãƒ£ãƒ³ã‚»ãƒ«)
   - **Danh sÃ¡ch sá»± kiá»‡n**: Má»—i dÃ²ng hiá»ƒn thá»‹ icon (âœ…/âŒ), tÃªn mÃ³n, giá», sá»‘ lÆ°á»£ng, bÃ n, thá»i gian chá»
3. **ÄÃ³ng**: Nháº¥n nÃºt âœ• hoáº·c nháº¥n vÃ o vÃ¹ng trá»‘ng bÃªn ngoÃ i panel

---

## TÃ­nh nÄƒng phá»¥ trá»£

| TÃ­nh nÄƒng | Thao tÃ¡c | MÃ´ táº£ |
|----------|---------|-------|
| **Chuyá»ƒn ngÃ´n ngá»¯** | Nháº¥n nÃºt `EN` á»Ÿ footer | Chuyá»ƒn Ä‘á»•i Nháº­t â†” Anh, lÆ°u vÃ o localStorage |
| **Táº¯t/Báº­t Ã¢m thanh** | Nháº¥n nÃºt ğŸ”” á»Ÿ footer | Toggle Ã¢m thanh thÃ´ng bÃ¡o |
| **ToÃ n mÃ n hÃ¬nh** | Nháº¥n nÃºt â›¶ á»Ÿ footer | VÃ o/thoÃ¡t cháº¿ Ä‘á»™ fullscreen |
| **Chuyá»ƒn station** | Nháº¥n mini panel | Mini panel thu nhá» trá»Ÿ thÃ nh main panel |

---

## Quy táº¯c Æ°u tiÃªn cháº¿ biáº¿n

1. **Æ¯u tiÃªn theo thá»i gian**: MÃ³n Ä‘áº·t trÆ°á»›c Ä‘Æ°á»£c hiá»ƒn thá»‹ trÃªn cÃ¹ng (sáº¯p xáº¿p oldest-first)
2. **Æ¯u tiÃªn kháº©n cáº¥p**: MÃ³n hiá»ƒn thá»‹ **Ä‘á»** (>5 phÃºt) â†’ cháº¿ biáº¿n ngay
3. **Æ¯u tiÃªn cáº£nh bÃ¡o**: MÃ³n hiá»ƒn thá»‹ **vÃ ng** (>3 phÃºt) â†’ chuáº©n bá»‹ Æ°u tiÃªn
4. **ÄÃºng bÃ n**: Äáº£m báº£o giao Ä‘Ãºng bÃ n khÃ¡ch ghi trÃªn má»—i dÃ²ng mÃ³n
5. **Tá»‘i Ä‘a 5 phÃºt**: Má»¥c tiÃªu â€” khÃ´ng cÃ³ mÃ³n nÃ o chá» quÃ¡ 5 phÃºt

---

## Luá»“ng dá»¯ liá»‡u ká»¹ thuáº­t

```
KhÃ¡ch Ä‘áº·t mÃ³n (table-order app)
  â†’ POST /api/tableorder/
  â†’ WebSocket broadcast "new_order"
  â†’ KDS nháº­n event â†’ loadOrders() â†’ hiá»ƒn thá»‹ mÃ³n má»›i

NhÃ¢n viÃªn Ä‘Ã¡nh dáº¥u hoÃ n thÃ nh
  â†’ PATCH /api/kitchen/items/{id}/done
  â†’ POST /api/kitchen/events/ (event sourcing log)
  â†’ WebSocket broadcast "kitchen.item.served"
  â†’ CÃ¡c KDS khÃ¡c â†’ removeItemBySync()

Polling fallback (30s)
  â†’ GET /api/kitchen/orders?branch_code=hirama
  â†’ Cáº­p nháº­t toÃ n bá»™ danh sÃ¡ch
```

---

## Xá»­ lÃ½ sá»± cá»‘

| TÃ¬nh huá»‘ng | Biá»ƒu hiá»‡n | HÃ nh Ä‘á»™ng |
|-----------|----------|---------|
| Máº¥t káº¿t ná»‘i API | â—ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ Ä‘á», chuyá»ƒn sang Demo Mode | Chá» káº¿t ná»‘i láº¡i tá»± Ä‘á»™ng (30s polling) |
| Máº¥t WebSocket | Tráº¡ng thÃ¡i chuyá»ƒn offline | Tá»± Ä‘á»™ng reconnect (tá»‘i Ä‘a 20 láº§n, backoff tÄƒng dáº§n) |
| KhÃ´ng cÃ³ Ä‘Æ¡n hÃ ng | Hiá»ƒn thá»‹ "â˜• æ³¨æ–‡ã‚’å¾…ã£ã¦ã„ã¾ã™" | Chá» Ä‘Æ¡n hÃ ng má»›i |
| Demo Mode | Banner vÃ ng "âš ï¸ ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰" | Dá»¯ liá»‡u máº«u, khÃ´ng áº£nh hÆ°á»Ÿng há»‡ thá»‘ng tháº­t |
