# Domain Configuration for Yakiniku Apps
# This file defines the domain routing for development and production

# ==================================
# DEVELOPMENT ENVIRONMENT
# ==================================

[development]
# Base domain for local development
base_domain = "localhost"

# Apps Configuration
[development.apps.web]
port = 8080
path = "../apps/web"
description = "Customer website"

[development.apps.dashboard]
port = 8081
path = "../apps/dashboard"
description = "Staff dashboard"

[development.apps.api]
port = 8000
path = "backend"
description = "FastAPI backend + WebSocket"

[development.apps.table-order]
port = 8082
path = "../apps/table-order"
description = "Table order system"

[development.apps.kitchen]
port = 8083
path = "../apps/kitchen"
description = "Kitchen display system"

[development.apps.checkin]
port = 8084
path = "../apps/checkin"
description = "Self check-in kiosk"

[development.apps.pos]
port = 8085
path = "../apps/pos"
description = "Point of sale"

# ==================================
# PRODUCTION ENVIRONMENT
# ==================================

[production]
# Base domain for production
base_domain = "yakiniku-jp"

# Apps Configuration with subdomains
[production.apps.web]
subdomain = ""  # Root domain
path = "/var/www/web"

[production.apps.dashboard]
subdomain = "dashboard"
path = "/var/www/dashboard"

[production.apps.api]
subdomain = "api"
path = "/var/www/api"

[production.apps.table-order]
subdomain = "order"
path = "/var/www/table-order"

[production.apps.kitchen]
subdomain = "kitchen"
path = "/var/www/kitchen"

[production.apps.checkin]
subdomain = "checkin"
path = "/var/www/checkin"

[production.apps.pos]
subdomain = "pos"
path = "/var/www/pos"

# ==================================
# CORS Configuration
# ==================================

[cors]
# Development origins
dev_origins = [
    "http://localhost:8080",
    "http://localhost:8081",
    "http://localhost:8082",
    "http://localhost:8083",
    "http://localhost:8084",
    "http://localhost:8085",
    "http://127.0.0.1:8080",
]

# Production origins
prod_origins = [
    "https://yakiniku-jp",
    "https://dashboard.yakiniku-jp",
    "https://order.yakiniku-jp",
    "https://kitchen.yakiniku-jp",
    "https://checkin.yakiniku-jp",
    "https://pos.yakiniku-jp",
]

# ==================================
# Team Assignment
# ==================================

[teams]
# Team responsible for each app

[teams.web]
app = "web"
members = ["frontend-team"]
slack_channel = "#team-web"

[teams.dashboard]
app = "dashboard"
members = ["frontend-team", "backend-team"]
slack_channel = "#team-dashboard"

[teams.api]
app = "api"
members = ["backend-team"]
slack_channel = "#team-api"

[teams.table-order]
app = "table-order"
members = ["frontend-team"]
slack_channel = "#team-order"

[teams.kitchen]
app = "kitchen"
members = ["frontend-team"]
slack_channel = "#team-kitchen"

[teams.checkin]
app = "checkin"
members = ["frontend-team"]
slack_channel = "#team-checkin"

[teams.pos]
app = "pos"
members = ["pos-team"]
slack_channel = "#team-pos"
